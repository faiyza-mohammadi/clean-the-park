<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clean the Park! ğŸŒ³ğŸ—‘ï¸</title>
  <style>
    /* ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„ÛŒ ØµÙØ­Ù‡ */
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #6ee7b7, #3b82f6, #9333ea);
      font-family: Arial, sans-serif;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      overflow: hidden;
    }

    h1 {
      margin-top: 20px;
      font-size: 2.5em;
    }

    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø³Ø·Ù„ */
    #bin {
      position: fixed;
      bottom: 20px;
      right: 20px;
      font-size: 3em;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 15px;
      transition: transform 0.3s ease;
    }

    /* ÙˆÙ‚ØªÛŒ Ø²Ø¨Ø§Ù„Ù‡ Ø¯Ø§Ø®Ù„ Ø³Ø·Ù„ Ø§ÙØªØ§Ø¯ */
    #bin.active {
      transform: scale(1.3);
    }

    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø²Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§ */
    .trash {
      position: absolute;
      font-size: 2em;
      cursor: pointer;
      transition: transform 0.3s ease, left 0.5s ease, top 0.5s ease;
      user-select: none;
    }

    /* Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ */
    #message {
      margin-top: 15px;
      font-size: 1.2em;
      font-weight: bold;
    }

    /* Ù†Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ Ø¨Ø§Ø²ÛŒ */
    #level {
      margin-top: 5px;
      font-size: 1.1em;
    }

    /* Ù¾Ù†Ø¬Ù‡ Ú¯Ø±Ø¨Ù‡ */
    #cat-paw {
      position: absolute;
      font-size: 3em;
      display: none;
      pointer-events: none;
      z-index: 1000;
      transition: left 0.5s ease, top 0.5s ease, opacity 0.5s ease;
    }
  </style>
</head>
<body>
  <!-- ØªÛŒØªØ± Ø¨Ø§Ø²ÛŒ -->
  <h1>Clean the Park! ğŸŒ³ğŸ—‘ï¸</h1>

  <!-- Ø³Ø·Ù„ Ø¢Ø´ØºØ§Ù„ -->
  <div id="bin">ğŸ—‘ï¸</div>

  <!-- Ø¬Ø§ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ -->
  <div id="message"></div>

  <!-- Ù†Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ -->
  <div id="level"></div>

  <!-- Ù¾Ù†Ø¬Ù‡ Ú¯Ø±Ø¨Ù‡ -->
  <div id="cat-paw">ğŸ¾</div>

  <script>
    // =======================
    // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
    // =======================
    let level = 1;
    let trashCount = 3;
    let recycled = 0;

    const trashTypes = ["ğŸŒ","ğŸ•","ğŸ’©","ğŸ¥‘","ğŸ¤¡"];
    const bin = document.getElementById("bin");
    const message = document.getElementById("message");
    const levelDisplay = document.getElementById("level");
    const catPaw = document.getElementById("cat-paw");

    // =======================
    // ØµØ¯Ø§Ù‡Ø§
    // =======================
    const catchSound = new Audio("catch.mp3");
    const bgMusic = new Audio("bg-music.mp3");
    bgMusic.loop = true;
    bgMusic.volume = 0.5;

    // Ø´Ø±ÙˆØ¹ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø¨Ø§ Ø§ÙˆÙ„ÛŒÙ† Ú©Ù„ÛŒÚ©
    document.addEventListener("click", () => {
      if (bgMusic.paused) {
        bgMusic.play().catch(err => console.log("Autoplay blocked:", err));
      }
    });

    function playCatchSound() {
      catchSound.currentTime = 0;
      catchSound.play();
    }

    // =======================
    // Ø§ÛŒØ¬Ø§Ø¯ Ø²Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§
    // =======================
    function createTrash(num) {
      for (let i = 0; i < num; i++) {
        const trash = document.createElement("div");
        trash.classList.add("trash");
        trash.textContent = trashTypes[Math.floor(Math.random() * trashTypes.length)];

        // Ù…ÙˆÙ‚Ø¹ÛŒØª ØªØµØ§Ø¯ÙÛŒ
        trash.style.left = Math.random() * (window.innerWidth - 50) + "px";
        trash.style.top = Math.random() * (window.innerHeight - 150) + "px";

        // Ø§Ù†Ø¯Ø§Ø²Ù‡ ØªØµØ§Ø¯ÙÛŒ (Ù‡Ø± Ú†ÛŒ Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§ØªØ± â†’ Ú©ÙˆÚ†ÛŒÚ©â€ŒØªØ±)
        let size = Math.max(1.5, 3 - level * 0.2);
        trash.style.fontSize = size + "em";

        // Ø§Ù…Ú©Ø§Ù† Ø¯Ø±Ú¯
        trash.draggable = true;

        // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø´Ø±ÙˆØ¹ Ø¯Ø±Ú¯
        trash.addEventListener("dragstart", e => {
          e.dataTransfer.setData("text/plain", "trash");
          e.dataTransfer.effectAllowed = "move";
          trash.classList.add("dragging");
        });

        // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ù¾Ø§ÛŒØ§Ù† Ø¯Ø±Ú¯
        trash.addEventListener("dragend", () => {
          trash.classList.remove("dragging");
        });

        document.body.appendChild(trash);
      }
    }

    // =======================
    // Ø³Ø·Ù„ Ø¢Ø´ØºØ§Ù„ (Drag & Drop)
// =======================
    bin.addEventListener("dragover", e => {
      e.preventDefault();
    });

    bin.addEventListener("drop", e => {
      e.preventDefault();
      const dragging = document.querySelector(".dragging");
      if (dragging) {
        dragging.remove(); // Ø­Ø°Ù Ø²Ø¨Ø§Ù„Ù‡
        recycled++;

        // ØµØ¯Ø§
        playCatchSound();

        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³Ø·Ù„
        bin.classList.add("active");
        setTimeout(() => bin.classList.remove("active"), 300);

        // Ù¾ÛŒØ§Ù…
        message.textContent = "Ø²Ø¨Ø§Ù„Ù‡ Ø¬Ù…Ø¹ Ø´Ø¯! ğŸ§¹";

        // Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªÙ…Ø§Ù… Ù…Ø±Ø­Ù„Ù‡
        if (recycled >= trashCount) {
          level++;
          recycled = 0;
          trashCount += 2;
          message.textContent = "Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø§Ù„Ø§ Ø±ÙØª! ğŸŒŸ";
          updateLevel();
          setTimeout(() => createTrash(trashCount), 1000);
        }
      }
    });

    // =======================
    // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø³Ø·Ø­
    // =======================
    function updateLevel() {
      levelDisplay.textContent = "Ù…Ø±Ø­Ù„Ù‡: " + level;
    }

    // =======================
    // Ù…Ù†Ø·Ù‚ ÙØ±Ø§Ø± Ú©Ø±Ø¯Ù† Ø²Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§
    // =======================
    document.addEventListener("mousemove", e => {
      const trashes = document.querySelectorAll(".trash");
      trashes.forEach(trash => {
        const rect = trash.getBoundingClientRect();
        const trashX = rect.left + rect.width / 2;
        const trashY = rect.top + rect.height / 2;

        const dx = e.clientX - trashX;
        const dy = e.clientY - trashY;
        const distance = Math.sqrt(dx * dx + dy * dy);

        if (distance < 100) {
          // Ø­Ø±Ú©Øª Ø¨Ù‡ Ø³Ù…Øª Ù…Ø®Ø§Ù„Ù Ù…Ø§ÙˆØ³
          let offsetX = -dx / distance * 50;
          let offsetY = -dy / distance * 50;

          // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®Ø±ÙˆØ¬ Ú©Ø§Ù…Ù„
          let newLeft = trash.offsetLeft + offsetX;
          let newTop = trash.offsetTop + offsetY;

          newLeft = Math.max(0, Math.min(window.innerWidth - rect.width, newLeft));
          newTop = Math.max(0, Math.min(window.innerHeight - rect.height - 50, newTop));

          trash.style.left = newLeft + "px";
          trash.style.top = newTop + "px";

          // wiggle
          trash.style.transform = "rotate(" + (Math.random() * 20 - 10) + "deg)";
          setTimeout(() => {
            trash.style.transform = "rotate(0deg)";
          }, 200);
        }
      });
    });

    // =======================
    // Ø´Ù„ÙˆØºÛŒ ØªØµØ§Ø¯ÙÛŒ (Ù¾Ù†Ø¬Ù‡ Ú¯Ø±Ø¨Ù‡ ğŸ¾)
    // =======================
    function randomChaos() {
      catPaw.style.display = "block";
      catPaw.style.opacity = 1;

      // Ù…Ú©Ø§Ù† ØªØµØ§Ø¯ÙÛŒ
      const pawX = Math.random() * (window.innerWidth - 100);
      const pawY = Math.random() * (window.innerHeight - 100);
      catPaw.style.left = pawX + "px";
      catPaw.style.top = pawY + "px";

      // Ø²Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§ Ø¬Ø§Ø¨Ù‡â€ŒØ¬Ø§ Ø¨Ø´Ù†
      const trashes = document.querySelectorAll(".trash");
      trashes.forEach(trash => {
        const offsetX = Math.random() * 100 - 50;
        const offsetY = Math.random() * 100 - 50;
        let newLeft = trash.offsetLeft + offsetX;
        let newTop = trash.offsetTop + offsetY;

        newLeft = Math.max(0, Math.min(window.innerWidth - 50, newLeft));
        newTop = Math.max(0, Math.min(window.innerHeight - 100, newTop));

        trash.style.left = newLeft + "px";
        trash.style.top = newTop + "px";
      });

      // Ù…Ø­Ùˆ Ø´Ø¯Ù†
      setTimeout(() => {
        catPaw.style.opacity = 0;
        setTimeout(() => {
          catPaw.style.display = "none";
        }, 500);
      }, 1500);
    }

    setInterval(randomChaos, 10000);

    // =======================
    // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
    // =======================
    updateLevel();
    message.textContent = "Ø²Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ Ø³Ø·Ù„ Ø¨ÛŒÙ†Ø¯Ø§Ø²!";
    createTrash(trashCount);
  </script>
</body>
</html>
